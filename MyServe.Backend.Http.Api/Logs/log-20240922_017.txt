2024-09-22 23:31:58.072 +05:30 [INF] HTTP GET /swagger responded 301 in 19.9731 ms
2024-09-22 23:32:18.793 +05:30 [INF] HTTP OPTIONS /auth/otp responded 204 in 5.4800 ms
2024-09-22 23:32:18.898 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-22 23:32:19.967 +05:30 [INF] HTTP POST /auth/otp responded 201 in 1158.9425 ms
2024-09-22 23:32:31.336 +05:30 [INF] HTTP OPTIONS /auth/otp/validate responded 204 in 0.7039 ms
2024-09-22 23:32:31.344 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-22 23:32:42.557 +05:30 [ERR] 42703: column "email_address" does not exist

POSITION: 26
Npgsql.PostgresException (0x80004005): 42703: column "email_address" does not exist

POSITION: 26
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryAsync[T](IDbConnection cnn, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 434
   at MyServe.Backend.App.Infrastructure.Repositories.UserRepository.GetByEmail(String email) in B:\Hobby\MyServe\MyServe.Backend.App.Infrastructure\Repositories\UserRepository.cs:line 45
   at MyServe.Backend.App.Infrastructure.Services.UserOtpService.ValidateUserOtpAsync(String emailAddress, String code, String device) in B:\Hobby\MyServe\MyServe.Backend.App.Infrastructure\Services\UserOtpService.cs:line 54
   at MyServe.Backend.App.Application.Features.Auth.ValidateOtp.ValidateOtpCommandHandler.Handle(ValidateOtpCommand request, CancellationToken cancellationToken) in B:\Hobby\MyServe\MyServe.Backend.App.Application\Features\Auth\ValidateOtp\ValidateOtpCommandHandler.cs:line 17
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "email_address" does not exist
    Position: 26
    File: parse_relation.c
    Line: 3656
    Routine: errorMissingColumn
2024-09-22 23:32:42.778 +05:30 [ERR] HTTP POST /auth/otp/validate responded 500 in 11435.4551 ms
MyServe.Backend.Common.Exceptions.InfrastructureException: The connection is closed
   at MyServe.Backend.App.Infrastructure.Abstract.UnitOfWork.ReadWriteUnitOfWork.RollbackAsync() in B:\Hobby\MyServe\MyServe.Backend.App.Infrastructure\Abstract\UnitOfWork\ReadWriteUnitOfWork.cs:line 73
   at MyServe.Backend.App.Application.Features.Auth.ValidateOtp.ValidateOtpCommandHandler.Handle(ValidateOtpCommand request, CancellationToken cancellationToken) in B:\Hobby\MyServe\MyServe.Backend.App.Application\Features\Auth\ValidateOtp\ValidateOtpCommandHandler.cs:line 43
   at MyServe.Backend.App.Application.Features.Auth.ValidateOtp.ValidateOtpCommandHandler.Handle(ValidateOtpCommand request, CancellationToken cancellationToken) in B:\Hobby\MyServe\MyServe.Backend.App.Application\Features\Auth\ValidateOtp\ValidateOtpCommandHandler.cs:line 44
   at MyServe.Backend.App.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in B:\Hobby\MyServe\MyServe.Backend.App.Application\Behaviours\ValidationBehaviour.cs:line 31
   at MyServe.Backend.Api.Controllers.AuthController.ValidateOtp(ValidateOtpCommand validateOtpCommand) in B:\Hobby\MyServe\MyServe.Backend.App.Api\Controllers\AuthController.cs:line 26
   at lambda_method16(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at MyServe.Backend.Api.Middleware.CacheMiddleware.InvokeAsync(HttpContext context, IRequestContext requestContext, ICacheService cacheService) in B:\Hobby\MyServe\MyServe.Backend.App.Api\Middleware\CacheMiddleware.cs:line 14
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-22 23:32:42.784 +05:30 [ERR] An unhandled exception has occurred while executing the request.
MyServe.Backend.Common.Exceptions.InfrastructureException: The connection is closed
   at MyServe.Backend.App.Infrastructure.Abstract.UnitOfWork.ReadWriteUnitOfWork.RollbackAsync() in B:\Hobby\MyServe\MyServe.Backend.App.Infrastructure\Abstract\UnitOfWork\ReadWriteUnitOfWork.cs:line 73
   at MyServe.Backend.App.Application.Features.Auth.ValidateOtp.ValidateOtpCommandHandler.Handle(ValidateOtpCommand request, CancellationToken cancellationToken) in B:\Hobby\MyServe\MyServe.Backend.App.Application\Features\Auth\ValidateOtp\ValidateOtpCommandHandler.cs:line 43
   at MyServe.Backend.App.Application.Features.Auth.ValidateOtp.ValidateOtpCommandHandler.Handle(ValidateOtpCommand request, CancellationToken cancellationToken) in B:\Hobby\MyServe\MyServe.Backend.App.Application\Features\Auth\ValidateOtp\ValidateOtpCommandHandler.cs:line 44
   at MyServe.Backend.App.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in B:\Hobby\MyServe\MyServe.Backend.App.Application\Behaviours\ValidationBehaviour.cs:line 31
   at MyServe.Backend.Api.Controllers.AuthController.ValidateOtp(ValidateOtpCommand validateOtpCommand) in B:\Hobby\MyServe\MyServe.Backend.App.Api\Controllers\AuthController.cs:line 26
   at lambda_method16(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at MyServe.Backend.Api.Middleware.CacheMiddleware.InvokeAsync(HttpContext context, IRequestContext requestContext, ICacheService cacheService) in B:\Hobby\MyServe\MyServe.Backend.App.Api\Middleware\CacheMiddleware.cs:line 14
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-22 23:35:17.986 +05:30 [INF] HTTP OPTIONS /auth/otp/validate responded 204 in 0.0864 ms
2024-09-22 23:35:17.990 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-22 23:35:29.514 +05:30 [ERR]    at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryAsync[T](IDbConnection cnn, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 434
   at MyServe.Backend.App.Infrastructure.Repositories.UserRepository.GetByEmail(String email) in B:\Hobby\MyServe\MyServe.Backend.App.Infrastructure\Repositories\UserRepository.cs:line 45
   at MyServe.Backend.App.Infrastructure.Services.UserOtpService.ValidateUserOtpAsync(String emailAddress, String code, String device) in B:\Hobby\MyServe\MyServe.Backend.App.Infrastructure\Services\UserOtpService.cs:line 54
   at MyServe.Backend.App.Application.Features.Auth.ValidateOtp.ValidateOtpCommandHandler.Handle(ValidateOtpCommand request, CancellationToken cancellationToken)
Npgsql.PostgresException (0x80004005): 42703: column "email_address" does not exist

POSITION: 26
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryAsync[T](IDbConnection cnn, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 434
   at MyServe.Backend.App.Infrastructure.Repositories.UserRepository.GetByEmail(String email) in B:\Hobby\MyServe\MyServe.Backend.App.Infrastructure\Repositories\UserRepository.cs:line 45
   at MyServe.Backend.App.Infrastructure.Services.UserOtpService.ValidateUserOtpAsync(String emailAddress, String code, String device) in B:\Hobby\MyServe\MyServe.Backend.App.Infrastructure\Services\UserOtpService.cs:line 54
   at MyServe.Backend.App.Application.Features.Auth.ValidateOtp.ValidateOtpCommandHandler.Handle(ValidateOtpCommand request, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "email_address" does not exist
    Position: 26
    File: parse_relation.c
    Line: 3656
    Routine: errorMissingColumn
2024-09-22 23:35:29.778 +05:30 [ERR] HTTP POST /auth/otp/validate responded 500 in 11789.1614 ms
MyServe.Backend.Common.Exceptions.InfrastructureException: The connection is closed
   at MyServe.Backend.App.Infrastructure.Abstract.UnitOfWork.ReadWriteUnitOfWork.RollbackAsync() in B:\Hobby\MyServe\MyServe.Backend.App.Infrastructure\Abstract\UnitOfWork\ReadWriteUnitOfWork.cs:line 73
   at MyServe.Backend.App.Application.Features.Auth.ValidateOtp.ValidateOtpCommandHandler.Handle(ValidateOtpCommand request, CancellationToken cancellationToken)
   at MyServe.Backend.App.Application.Features.Auth.ValidateOtp.ValidateOtpCommandHandler.Handle(ValidateOtpCommand request, CancellationToken cancellationToken)
   at MyServe.Backend.App.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MyServe.Backend.Api.Controllers.AuthController.ValidateOtp(ValidateOtpCommand validateOtpCommand) in B:\Hobby\MyServe\MyServe.Backend.App.Api\Controllers\AuthController.cs:line 26
   at lambda_method16(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at MyServe.Backend.Api.Middleware.CacheMiddleware.InvokeAsync(HttpContext context, IRequestContext requestContext, ICacheService cacheService) in B:\Hobby\MyServe\MyServe.Backend.App.Api\Middleware\CacheMiddleware.cs:line 14
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-22 23:35:29.782 +05:30 [ERR] An unhandled exception has occurred while executing the request.
MyServe.Backend.Common.Exceptions.InfrastructureException: The connection is closed
   at MyServe.Backend.App.Infrastructure.Abstract.UnitOfWork.ReadWriteUnitOfWork.RollbackAsync() in B:\Hobby\MyServe\MyServe.Backend.App.Infrastructure\Abstract\UnitOfWork\ReadWriteUnitOfWork.cs:line 73
   at MyServe.Backend.App.Application.Features.Auth.ValidateOtp.ValidateOtpCommandHandler.Handle(ValidateOtpCommand request, CancellationToken cancellationToken)
   at MyServe.Backend.App.Application.Features.Auth.ValidateOtp.ValidateOtpCommandHandler.Handle(ValidateOtpCommand request, CancellationToken cancellationToken)
   at MyServe.Backend.App.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MyServe.Backend.Api.Controllers.AuthController.ValidateOtp(ValidateOtpCommand validateOtpCommand) in B:\Hobby\MyServe\MyServe.Backend.App.Api\Controllers\AuthController.cs:line 26
   at lambda_method16(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at MyServe.Backend.Api.Middleware.CacheMiddleware.InvokeAsync(HttpContext context, IRequestContext requestContext, ICacheService cacheService) in B:\Hobby\MyServe\MyServe.Backend.App.Api\Middleware\CacheMiddleware.cs:line 14
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-22 23:35:53.514 +05:30 [INF] HTTP OPTIONS /auth/otp/validate responded 204 in 0.0885 ms
2024-09-22 23:35:53.518 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-22 23:36:26.828 +05:30 [ERR]    at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param) in /_/Dapper/SqlMapper.Async.cs:line 662
   at MyServe.Backend.App.Infrastructure.Repositories.UserOtpRepository.ValidateOtp(String otp, String emailAddress, String device) in B:\Hobby\MyServe\MyServe.Backend.App.Infrastructure\Repositories\UserOtpRepository.cs:line 58
   at MyServe.Backend.App.Infrastructure.Services.UserOtpService.ValidateUserOtpAsync(String emailAddress, String code, String device) in B:\Hobby\MyServe\MyServe.Backend.App.Infrastructure\Services\UserOtpService.cs:line 50
   at MyServe.Backend.App.Application.Features.Auth.ValidateOtp.ValidateOtpCommandHandler.Handle(ValidateOtpCommand request, CancellationToken cancellationToken)
Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.TimeoutException: Timeout during reading attempt
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param) in /_/Dapper/SqlMapper.Async.cs:line 662
   at MyServe.Backend.App.Infrastructure.Repositories.UserOtpRepository.ValidateOtp(String otp, String emailAddress, String device) in B:\Hobby\MyServe\MyServe.Backend.App.Infrastructure\Repositories\UserOtpRepository.cs:line 58
   at MyServe.Backend.App.Infrastructure.Services.UserOtpService.ValidateUserOtpAsync(String emailAddress, String code, String device) in B:\Hobby\MyServe\MyServe.Backend.App.Infrastructure\Services\UserOtpService.cs:line 50
   at MyServe.Backend.App.Application.Features.Auth.ValidateOtp.ValidateOtpCommandHandler.Handle(ValidateOtpCommand request, CancellationToken cancellationToken)
2024-09-22 23:36:27.071 +05:30 [ERR] HTTP POST /auth/otp/validate responded 500 in 33553.3836 ms
MyServe.Backend.Common.Exceptions.InfrastructureException: The connection is closed
   at MyServe.Backend.App.Infrastructure.Abstract.UnitOfWork.ReadWriteUnitOfWork.RollbackAsync() in B:\Hobby\MyServe\MyServe.Backend.App.Infrastructure\Abstract\UnitOfWork\ReadWriteUnitOfWork.cs:line 73
   at MyServe.Backend.App.Application.Features.Auth.ValidateOtp.ValidateOtpCommandHandler.Handle(ValidateOtpCommand request, CancellationToken cancellationToken)
   at MyServe.Backend.App.Application.Features.Auth.ValidateOtp.ValidateOtpCommandHandler.Handle(ValidateOtpCommand request, CancellationToken cancellationToken)
   at MyServe.Backend.App.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MyServe.Backend.Api.Controllers.AuthController.ValidateOtp(ValidateOtpCommand validateOtpCommand) in B:\Hobby\MyServe\MyServe.Backend.App.Api\Controllers\AuthController.cs:line 26
   at lambda_method16(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at MyServe.Backend.Api.Middleware.CacheMiddleware.InvokeAsync(HttpContext context, IRequestContext requestContext, ICacheService cacheService) in B:\Hobby\MyServe\MyServe.Backend.App.Api\Middleware\CacheMiddleware.cs:line 14
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-22 23:36:27.073 +05:30 [ERR] An unhandled exception has occurred while executing the request.
MyServe.Backend.Common.Exceptions.InfrastructureException: The connection is closed
   at MyServe.Backend.App.Infrastructure.Abstract.UnitOfWork.ReadWriteUnitOfWork.RollbackAsync() in B:\Hobby\MyServe\MyServe.Backend.App.Infrastructure\Abstract\UnitOfWork\ReadWriteUnitOfWork.cs:line 73
   at MyServe.Backend.App.Application.Features.Auth.ValidateOtp.ValidateOtpCommandHandler.Handle(ValidateOtpCommand request, CancellationToken cancellationToken)
   at MyServe.Backend.App.Application.Features.Auth.ValidateOtp.ValidateOtpCommandHandler.Handle(ValidateOtpCommand request, CancellationToken cancellationToken)
   at MyServe.Backend.App.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MyServe.Backend.Api.Controllers.AuthController.ValidateOtp(ValidateOtpCommand validateOtpCommand) in B:\Hobby\MyServe\MyServe.Backend.App.Api\Controllers\AuthController.cs:line 26
   at lambda_method16(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at MyServe.Backend.Api.Middleware.CacheMiddleware.InvokeAsync(HttpContext context, IRequestContext requestContext, ICacheService cacheService) in B:\Hobby\MyServe\MyServe.Backend.App.Api\Middleware\CacheMiddleware.cs:line 14
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-22 23:36:57.346 +05:30 [INF] Initialized secret client
2024-09-22 23:37:00.261 +05:30 [INF] Configured token validation
2024-09-22 23:37:01.902 +05:30 [INF] Supabase Project URL has been configured to: https://qtyzpaoatgqfedtsayug.supabase.co
2024-09-22 23:37:03.110 +05:30 [INF] Connected to Redis...
